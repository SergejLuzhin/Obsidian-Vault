
---
## –ë–∞–∑–æ–≤–∞—è —Ñ–∏–ª–æ—Å–æ—Ñ–∏—è Selenide. –ì–ª–∞–≤–Ω—ã–µ –æ—Ç–ª–∏—á–∏—è –æ—Ç Selenium

***Selenide*** = Selenium + WebDriverWait + —É–¥–æ–±—Å—Ç–≤–∞ + —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å

–ù–û:

–£ Selenide —Ç–∞–∫ –∂–µ –µ—Å—Ç—å –º–∏–Ω—É—Å—ã, –≤—Ä–æ–¥–µ **–æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏** —Å –ø—Ä–æ—à–ª—ã–º–∏ –≤–µ—Ä—Å–∏—è–º–∏. –ú–Ω–æ–≥–æ –º–µ—Ç–æ–¥–æ–≤ –ø—Ä–æ—Å—Ç–æ —É–¥–∞–ª—è—é—Ç—Å—è –∏ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞—Ç—å —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏ –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –Ω–∞ –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é.

| –ë—ã–ª–æ (Selenium)                       | –°—Ç–∞–ª–æ (Selenide)    |
| ------------------------------------- | ------------------- |
| **WebDriver driver**                      | –≤–æ–æ–±—â–µ –Ω–µ –Ω—É–∂–µ–Ω     |
| **driver.findElement**                    | `$(...)`            |
| **driver.findElements**                   | `$$(...)`           |
| **WebDriverWait**                         | `.should()`         |
| **Actions.moveToElement**                 | `.hover()`          |
| **scrollIntoView**                        | `.scrollTo()`       |
| **—Å–æ–∑–¥–∞–≤–∞—Ç—å –∏ –∑–∞–∫—Ä—ã–≤–∞—Ç—å –¥—Ä–∞–π–≤–µ—Ä –≤—Ä—É—á–Ω—É—é** | Selenide –¥–µ–ª–∞–µ—Ç —Å–∞–º |

### –ß—Ç–æ —ç—Ç–æ –¥–∞–µ—Ç?

- ‚úî –º–µ–Ω—å—à–µ –∫–æ–¥–∞
- ‚úî –º–µ–Ω—å—à–µ —Ñ–ª–µ–π–∫–æ–≤
- ‚úî –Ω–µ—Ç `NoSuchElementException`
- ‚úî –Ω–µ—Ç `StaleElementException`
- ‚úî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ retry
- ‚úî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–∂–∏–¥–∞–Ω–∏—è
- ‚úî —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å
- ‚úî Allure —Å–∫—Ä–∏–Ω—à–æ—Ç—ã ‚Äî –±–µ–∑ –µ–¥–∏–Ω–æ–π —Ç–≤–æ–µ–π —Å—Ç—Ä–æ—á–∫–∏ –∫–æ–¥–∞

---

## –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ Selenide 

### 1. –ü–æ–∏—Å–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤

‚úî –û–¥–∏–Ω —ç–ª–µ–º–µ–Ω—Ç:
```java
$(selector)
```

‚úî –ö–æ–ª–ª–µ–∫—Ü–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤:
```java
$$(selector)
```

‚úî –ü–æ xpath:
```java
$x(selector)
```

üìò–ü—Ä–∏–º–µ—Ä—ã:
```java
$("#search")             // –ø–æ id
$(".button")             // –ø–æ –∫–ª–∞—Å—Å—É
$("[type='submit']")     // –ø–æ –∞—Ç—Ä–∏–±—É—Ç—É
$x("//div[@id='cart']")  // xpath
```

### 2. –î–µ–π—Å—Ç–≤–∏—è –Ω–∞–¥ –≤–µ–±-—ç–ª–µ–º–µ–Ω—Ç–∞–º–∏

| –î–µ–π—Å—Ç–≤–∏–µ                   | –ö–æ–¥                                       |
| -------------------------- | ----------------------------------------- |
| **–ö–ª–∏–∫**                       | `click()`                                 |
| **–í–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞**                | `setValue("text")`                        |
| **Enter**                      | `pressEnter()`                            |
| **–ù–∞–≤–µ–¥–µ–Ω–∏–µ**                  | `hover()`                                 |
| **–°–∫—Ä–æ–ª–ª –∫ —ç–ª–µ–º–µ–Ω—Ç—É**          | `scrollTo()`                              |
| **–ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—Å—Ç**             | `getText()`                               |
| **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –∞—Ç—Ä–∏–±—É—Ç–∞** | `shouldHave(attribute("value", "Apple"))` |

### 3. –û–∂–∏–¥–∞–Ω–∏—è (–æ—Å–Ω–æ–≤–∞ Selenide)

Selenide —Å–∞–º –∂–¥—ë—Ç:

‚úî –ø–æ—è–≤–ª–µ–Ω–∏—è  
‚úî –≤–∏–¥–∏–º–æ—Å—Ç–∏  
‚úî –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–æ—Å—Ç–∏  
‚úî —Ç–µ–∫—Å—Ç–∞

üìò–ü—Ä–∏–º–µ—Ä—ã:

```java
$("#login").shouldBe(visible);

$("#title").shouldHave(text("iPhone"));
```

–≠—Ç–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ **–∏ –æ–∂–∏–¥–∞–Ω–∏—è –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏**. –ù–æ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ª–æ–≥–∏–∫–∏ –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–µ –∞—Å—Å–µ—Ä—Ç—ã JUnit –≤—Ä–æ–¥–µ assertTrue().

### 4. –ú–µ—Ç–æ–¥—ã –∫–æ–ª–ª–µ–∫—Ü–∏–π

```java
ElementsCollection products = $$(".product-card");
```

‚úî –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Ç–µ–∫—Å—Ç—ã:
```java
$$(‚Äú.product-card .title‚Äù).texts();
```

‚úî –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —É –≤—Å–µ—Ö –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏—Ç Apple:
```java
$$(‚Äú.product-card .title‚Äù)
    .shouldHave(CollectionCondition.allMatch("–ü—Ä–æ–≤–µ—Ä—è–µ–º –±—Ä–µ–Ω–¥", 
        el -> el.getText().contains("Apple")));
```

‚úîÔ∏è –§–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å:
```java
$$(‚Äú.product-card .title‚Äù).filterBy(text("iPhone"));
```

## –û–∂–∏–¥–∞–Ω–∏—è Selenide (–≤–º–µ—Å—Ç–æ WebDriverWait)

–í Selenium:
```java
new WebDriverWait(driver, 10)   .until(ExpectedConditions.visibilityOfElementLocated(By.id("search"));
```

–í *Selenide*: 
```java
$("#search").shouldBe(visible);
```

### –û—Å–Ω–æ–≤–Ω—ã–µ —É—Å–ª–æ–≤–∏—è –¥–ª—è shouldBe() –∏ shouldHave()

- `visible`
- `exist`
- `enabled`
- `disabled`
- `text("iPhone")`
- `value("Apple")`
- `cssClass("active")

üìò–ü—Ä–∏–º–µ—Ä:

```java
$(".filter").shouldBe(visible).shouldHave(text("–¶–µ–Ω–∞"));
```

üìå **–í–∞–∂–Ω–æ: –æ–∂–∏–¥–∞–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏**

–î–∞–∂–µ –ø—Ä–æ—Å—Ç–æ–µ `$("#search").click()` ‚Üí  
–≤–∫–ª—é—á–∞–µ—Ç:

- –ø–æ–∏—Å–∫ —ç–ª–µ–º–µ–Ω—Ç–∞
    
- –æ–∂–∏–¥–∞–Ω–∏–µ –ø–æ—è–≤–ª–µ–Ω–∏—è
    
- –æ–∂–∏–¥–∞–Ω–∏–µ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–æ—Å—Ç–∏
    
- –∫–ª–∏–∫–∞

—Ç.–µ. –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π WebDriverWait.

---
## SelenideElement –∏ ElementsCollection –≤–º–µ—Å—Ç–æ WebElement –∏ —Å–ø–∏—Å–∫–∞ WebElement

```java
SelenideElement catalogButton = $x("//button[text()='–ö–∞—Ç–∞–ª–æ–≥']");
SelenideElement smartphoneCategory = $(byText("–°–º–∞—Ä—Ç—Ñ–æ–Ω—ã"));
SelenideElement brandApple = $(byText("Apple"));

ElementsCollection productTitles = $$(".product-card .title");
```
## Selenide PageObject

PageObject –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ç–æ–ª—å–∫–æ:

1. SelenideElement'—ã
    
2. –ú–µ—Ç–æ–¥—ã, —Ä–∞–±–æ—Ç–∞—é—â–∏–µ —Å —ç—Ç–∏–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏
    
3. –õ–æ–≥–∏–∫—É –ø–µ—Ä–µ—Ö–æ–¥–∞ –º–µ–∂–¥—É —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å –ø–µ—Ä–µ—Ö–æ–¥)

### –ü—Ä–∏–º–µ—Ä PageObject –≤ Selenide

```java
public class CatalogPage {

    // 1 ‚Äî —ç–ª–µ–º–µ–Ω—Ç—ã —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    private SelenideElement searchInput = $("#search");
    private ElementsCollection productCards = $$(".product-card");

    // 2 ‚Äî –º–µ—Ç–æ–¥—ã
    public CatalogPage search(String text) {
        searchInput.setValue(text).pressEnter();
        return this; // –µ—Å–ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—Å—Ç–∞—ë—Ç—Å—è —Ç–æ–π –∂–µ
    }

    public ProductPage openFirstProduct() {
        productCards.first().click();
        return new ProductPage(); // –µ—Å–ª–∏ –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –¥—Ä—É–≥—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
    }
}
```

### –ú–µ—Ç–æ–¥—ã –≤ Selenide PageObject

1) –í—Å–µ ***public*** –º–µ—Ç–æ–¥—ã –¥–æ–ª–∂–Ω—ã **–≤–µ—Ä–Ω—É—Ç—å –∫–ª–∞—Å—Å** —Ç–µ–∫—É—â–µ–π **—Å—Ç—Ä–∞–Ω–∏—Ü—ã**, –ª–∏–±–æ —Ç–æ–π –Ω–∞ –∫–∞–∫—É—é –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –±—Ä–∞—É–∑–µ—Ä –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –º–µ—Ç–æ–¥–∞.

2) –ú–µ—Ç–æ–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å **private**